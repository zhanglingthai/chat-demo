(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reg"],{8437:function(e,r,s){"use strict";s("920b")},"920b":function(e,r,s){},b8b8:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"reg"},[s("div",{staticClass:"regbox"},[s("ul",{staticClass:"reg-type"},[s("li",{class:{on:1==e.regType},on:{click:function(r){return e.selectregType(1)}}},[e._v("账号注册")])]),s("div",{staticClass:"reg-type-detail"},[1==e.regType?[s("el-form",{ref:"regform",attrs:{model:e.regForm,"label-width":"80px",rules:e.rules},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("regform")}}},[s("el-form-item",{attrs:{label:"账号",prop:"username"}},[s("el-input",{attrs:{disabled:e.loading||!e.finish,autocomplete:"off"},model:{value:e.regForm.username,callback:function(r){e.$set(e.regForm,"username",r)},expression:"regForm.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{disabled:e.loading||!e.finish,type:"password",autocomplete:"off"},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{disabled:e.loading||!e.finish,type:"password",autocomplete:"off"},model:{value:e.regForm.checkPass,callback:function(r){e.$set(e.regForm,"checkPass",r)},expression:"regForm.checkPass"}})],1),s("el-form-item",[s("el-button",{attrs:{loading:e.loading||!e.finish,type:"primary"},on:{click:function(r){return e.submitForm("regform")}}},[e._v("注册")]),s("el-button",{attrs:{disabled:e.loading||!e.finish},on:{click:function(r){return e.resetFrom("regform")}}},[e._v("重置")]),s("el-button",{attrs:{disabled:e.loading||!e.finish,type:"success"},on:{click:function(r){return e.$router.push("/login")}}},[e._v("去登录")])],1)],1)]:e._e(),2==e.regType?void 0:e._e()],2)])])},o=[],n=s("6821"),i=s.n(n),a={name:"Reg",data:function(){var e=this,r=function(r,s,t){""===s?t(new Error("请再次输入密码")):s!==e.regForm.password?t(new Error("两次输入密码不一致!")):t()};return{regType:1,regForm:{username:"",password:"",checkPass:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 15 个字符",trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:r,trigger:"blur"}]},finish:!0}},methods:{selectRegType:function(e){this.regType=e},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.finish=!1,r.$http.post("/reg",{username:r.regForm.username,password:i()(r.regForm.password)}).then((function(e){e.success&&r.$message({message:e.msg,type:"success",onClose:function(){r.$router.push("/login")}})})).catch((function(e){r.finish=!0}))}))},resetFrom:function(e){this.$refs[e].resetFields()}},computed:{loading:function(){return this.$store.state.loading.loading}}},l=a,u=(s("8437"),s("2877")),c=Object(u["a"])(l,t,o,!1,null,null,null);r["default"]=c.exports}}]);